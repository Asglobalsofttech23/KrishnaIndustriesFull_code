import{r as n,j as e,a5 as W,a6 as C,a7 as v,T as D,E as x,G as a,R as h,g as p,z as P,H as k,J as S,K as i,N as t,Q as R,c as A,d as E}from"./index-CxJtQRLb.js";function B(){const[l,u]=n.useState(""),[o,f]=n.useState(""),[c,j]=n.useState([]),b=n.useRef(),g=async()=>{try{const r=await A.get(`${E.apiUrl}/sales/getSale`,{params:{startDate:l,endDate:o}});j(r.data)}catch(r){console.error("Error fetching data:",r)}},m=()=>{g()},y=()=>{window.print()},d=(r,s)=>r*s,T=()=>c.reduce((r,s)=>r+d(s.price,s.quantity),0);return e.jsxs("div",{style:{display:"flex"},children:[e.jsx(W,{}),e.jsxs("main",{style:{flexGrow:1,padding:"24px"},children:[e.jsx(C,{position:"static",sx:{backgroundColor:"pink"},children:e.jsx(v,{children:e.jsx(D,{variant:"h6",noWrap:!0,children:"SalesReport"})})}),e.jsxs(x,{sx:{padding:"24px",marginTop:"16px"},children:[e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:4,children:e.jsx(h,{label:"Start Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:l,onChange:r=>u(r.target.value),sx:{backgroundColor:"#f5f5f5"}})}),e.jsx(a,{item:!0,xs:12,sm:4,children:e.jsx(h,{label:"End Date",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o,onChange:r=>f(r.target.value),sx:{backgroundColor:"#f5f5f5"}})}),e.jsx(a,{item:!0,xs:12,sm:2,children:e.jsx(p,{variant:"contained",color:"primary",fullWidth:!0,sx:{marginTop:"8px"},onClick:m,children:"Find"})}),e.jsx(a,{item:!0,xs:12,sm:2,children:e.jsx(p,{variant:"contained",color:"secondary",fullWidth:!0,sx:{marginTop:"8px"},onClick:y,children:"Print"})})]}),e.jsx(P,{component:x,sx:{marginTop:"24px"},ref:b,id:"printArea",children:e.jsxs(k,{children:[e.jsx(S,{children:e.jsxs(i,{sx:{backgroundColor:"#e0f7fa"},children:[e.jsx(t,{sx:{fontWeight:"bold",color:"#00796b"},children:"Sales Address"}),e.jsx(t,{sx:{fontWeight:"bold",color:"#00796b"},children:"Product ID"}),e.jsx(t,{sx:{fontWeight:"bold",color:"#00796b"},children:"Price"}),e.jsx(t,{sx:{fontWeight:"bold",color:"#00796b"},children:"Quantity"}),e.jsx(t,{sx:{fontWeight:"bold",color:"#00796b"},children:"Total"}),e.jsx(t,{sx:{fontWeight:"bold",color:"#00796b"},children:"Purchase Date"})]})}),e.jsxs(R,{children:[c.map((r,s)=>e.jsxs(i,{sx:{backgroundColor:s%2===0?"#f1f8e9":"#ffffff"},children:[e.jsx(t,{children:r.sale_address}),e.jsx(t,{children:r.pro_id}),e.jsx(t,{children:r.price}),e.jsx(t,{children:r.quantity}),e.jsx(t,{children:Math.round(d(r.price,r.quantity))}),e.jsx(t,{children:r.created_at})]},s)),e.jsxs(i,{children:[e.jsx(t,{colSpan:4,sx:{fontWeight:"bold",textAlign:"right"},children:"Total:"}),e.jsx(t,{sx:{fontWeight:"bold",color:"#d32f2f"},children:Math.round(T())}),e.jsx(t,{})]})]})]})})]})]}),e.jsx("style",{jsx:!0,global:!0,children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #printArea, #printArea * {
            visibility: visible;
          }
          #printArea {
            position: absolute;
            left: 0;
            top: 0;
          }
        }
      `})]})}export{B as default};
