import{i as fe,k as ye,s as I,_ as E,r,l as ve,m as be,j as e,n as Ce,o as _e,p as k,q as M,G as t,c as b,d as C,C as ie,t as P,v as m,u as D,b as Se,T as y,P as S,M as L,w as $,D as Te,g as z,B as F,x as O,y as H,z as W,E as U,H as V,J as B,K as w,N as u,Q as q,R as we,U as ae}from"./index-CxJtQRLb.js";import{G as De,S as h,_ as G,T as ce,L as Y,a as Q}from"./TotalIncomeCard-DcxUtn_f.js";import{h as Le}from"./moment-G82_0lEo.js";import{D as J,a as K,b as X}from"./DialogContent-DOuEahYY.js";import{D as Z}from"./DialogTitle-Cl70ZkoL.js";function Ae(s){return fe("MuiCardActions",s)}ye("MuiCardActions",["root","spacing"]);const Ie=["disableSpacing","className"],ke=s=>{const{classes:a,disableSpacing:i}=s;return _e({root:["root",!i&&"spacing"]},Ae,a)},Me=I("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(s,a)=>{const{ownerState:i}=s;return[a.root,!i.disableSpacing&&a.spacing]}})(({ownerState:s})=>E({display:"flex",alignItems:"center",padding:8},!s.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),$e=r.forwardRef(function(a,i){const c=ve({props:a,name:"MuiCardActions"}),{disableSpacing:o=!1,className:f}=c,p=be(c,Ie),d=E({},c,{disableSpacing:o}),n=ke(d);return e.jsx(Me,E({className:Ce(n.root,f),ownerState:d,ref:i},p))});var ee={},ze=M;Object.defineProperty(ee,"__esModule",{value:!0});var oe=ee.default=void 0,Ee=ze(k()),Pe=e;oe=ee.default=(0,Ee.default)((0,Pe.jsx)("path",{d:"M20 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 2v3H5V5zm-5 14h-5v-9h5zM5 10h3v9H5zm12 9v-9h3v9z"}),"TableChartOutlined");function le(s){return De({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M48 48h88c13.3 0 24-10.7 24-24s-10.7-24-24-24H32C14.3 0 0 14.3 0 32V136c0 13.3 10.7 24 24 24s24-10.7 24-24V48zM175.8 224a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm-26.5 32C119.9 256 96 279.9 96 309.3c0 14.7 11.9 26.7 26.7 26.7h56.1c8-34.1 32.8-61.7 65.2-73.6c-7.5-4.1-16.2-6.4-25.3-6.4H149.3zm368 80c14.7 0 26.7-11.9 26.7-26.7c0-29.5-23.9-53.3-53.3-53.3H421.3c-9.2 0-17.8 2.3-25.3 6.4c32.4 11.9 57.2 39.5 65.2 73.6h56.1zm-89.4 0c-8.6-24.3-29.9-42.6-55.9-47c-3.9-.7-7.9-1-12-1H280c-4.1 0-8.1 .3-12 1c-26 4.4-47.3 22.7-55.9 47c-2.7 7.5-4.1 15.6-4.1 24c0 13.3 10.7 24 24 24H408c13.3 0 24-10.7 24-24c0-8.4-1.4-16.5-4.1-24zM464 224a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm-80-32a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zM504 48h88v88c0 13.3 10.7 24 24 24s24-10.7 24-24V32c0-17.7-14.3-32-32-32H504c-13.3 0-24 10.7-24 24s10.7 24 24 24zM48 464V376c0-13.3-10.7-24-24-24s-24 10.7-24 24V480c0 17.7 14.3 32 32 32H136c13.3 0 24-10.7 24-24s-10.7-24-24-24H48zm456 0c-13.3 0-24 10.7-24 24s10.7 24 24 24H608c17.7 0 32-14.3 32-32V376c0-13.3-10.7-24-24-24s-24 10.7-24 24v88H504z"},child:[]}]})(s)}const Re=({isLoading:s})=>{const[a,i]=r.useState([]),[c,o]=r.useState([]),[f,p]=r.useState(0),[d,n]=r.useState(s),[g,l]=r.useState(null);return r.useEffect(()=>{const j=async()=>{try{const v=await b.get(`${C.apiUrl}/employee`);i(v.data)}catch{console.log("Employee Total is not fetched."),i([])}},x=async()=>{try{const T=(await b.get(`${C.apiUrl}/emp_attend/todayAttendance`)).data.attendance||[];o(T),p(T.length)}catch(v){console.error("Error fetching data:",v),o([]),p(0)}finally{n(!1)}};j(),x()},[]),d?e.jsx("p",{children:"Loading..."}):g?e.jsxs("p",{children:["Error: ",g]}):e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"emp-card",children:[e.jsxs(t,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(t,{item:!0,xs:8,children:e.jsx("h3",{className:"emp-card-heading text-white",children:"Employees"})}),e.jsx(t,{item:!0,xs:4,className:"icon-container",children:e.jsx(le,{className:"emp-icon"})})]}),e.jsx("h3",{className:"emp-value",children:a.length})]}),e.jsxs("div",{className:"att",children:[e.jsx("h2",{children:"Today's Attendance"}),e.jsxs("p",{children:["Total Attendance Count: ",f]})]})]})})};var te={},Ne=M;Object.defineProperty(te,"__esModule",{value:!0});var R=te.default=void 0,Fe=Ne(k()),Oe=e;R=te.default=(0,Fe.default)((0,Oe.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRightOutlined");const He=()=>e.jsxs(ie,{children:[e.jsx(P,{children:e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:m,children:[e.jsx(t,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,children:e.jsx(h,{variant:"rectangular",height:20,width:20})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{variant:"rectangular",height:150})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:1,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,xs:6,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,children:e.jsx(h,{variant:"rectangular",height:16,width:16})})]})})]})}),e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:1,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,xs:6,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,children:e.jsx(h,{variant:"rectangular",height:16,width:16})})]})})]})}),e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:1,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,xs:6,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,children:e.jsx(h,{variant:"rectangular",height:16,width:16})})]})})]})}),e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:1,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,xs:6,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,children:e.jsx(h,{variant:"rectangular",height:16,width:16})})]})})]})}),e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:1,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,xs:6,children:e.jsxs(t,{container:!0,alignItems:"center",spacing:m,justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:!0,zeroMinWidth:!0,children:e.jsx(h,{variant:"rectangular",height:20})}),e.jsx(t,{item:!0,children:e.jsx(h,{variant:"rectangular",height:16,width:16})})]})})]})}),e.jsx(t,{item:!0,xs:6,children:e.jsx(h,{variant:"rectangular",height:20})})]})})]})}),e.jsx(P,{sx:{p:1.25,display:"flex",pt:0,justifyContent:"center"},children:e.jsx(h,{variant:"rectangular",height:25,width:75})})]}),We=()=>{const s=D(),[a,i]=r.useState(Le().format("YYYY-MM-DD")),c=s.palette.secondary[800],o=Se(l=>l.customization),{navType:f}=o,[p,d]=r.useState({series:[],options:{chart:{id:"support-chart",sparkline:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:1},tooltip:{fixed:{enabled:!1},x:{show:!0},y:{formatter:(l,{seriesIndex:j,dataPointIndex:x,w:v})=>`Total ${l}`,title:{formatter:(l,{seriesIndex:j,dataPointIndex:x,w:v})=>v.config.xaxis.categories[x]}},marker:{show:!1}},xaxis:{categories:[]}}}),[n,g]=r.useState(0);return r.useEffect(()=>{b.get(`${C.apiUrl}/cust_purch/custPurchDashboard/?date=${a}`).then(l=>{const j=l.data,x=j.map(_=>_.cust_name),v=j.map(_=>parseFloat(_.total_amount)),T=v.reduce((_,A)=>_+A,0);g(T),d(_=>({..._,series:[{name:"Total Amount",data:v}],options:{..._.options,xaxis:{categories:x},colors:[c],tooltip:{theme:"light",y:{formatter:A=>`Total ${A}`,title:{formatter:(A,{seriesIndex:tt,dataPointIndex:me,w:ge})=>ge.config.xaxis.categories[me]}}}}}))}).catch(l=>{console.error("Error fetching data:",l)})},[c]),r.useEffect(()=>{const l={...p.options,colors:[c],tooltip:{theme:"light"}};ApexCharts.exec("support-chart","updateOptions",l)},[f,c,p.options]),e.jsx(e.Fragment,{children:e.jsxs(ie,{sx:{bgcolor:"secondary.light"},children:[e.jsx(t,{container:!0,sx:{p:2,pb:0,color:"#fff"},children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e.jsx(t,{item:!0,children:e.jsx(y,{variant:"subtitle1",sx:{color:"secondary.dark"},children:"Total Amount"})}),e.jsx(t,{item:!0,children:e.jsx(y,{variant:"h4",sx:{color:"grey.800"},children:n.toFixed(2)})})]})})}),e.jsx(G,{options:p.options,series:p.series,type:"area",height:205})]})})},de=({isLoading:s})=>{const[a,i]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const o=await b.get(`${C.apiUrl}/cust_purch/custPurchDashboard`);i(o.data)}catch(o){console.error("Error fetching customer data:",o)}})()},[]),e.jsx(e.Fragment,{children:s?e.jsx(He,{}):e.jsxs(L,{content:!1,children:[e.jsx(P,{children:e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(We,{})}),a.map((c,o)=>e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(t,{container:!0,direction:"column",children:[e.jsx(t,{item:!0,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e.jsx(t,{item:!0,xs:6,sm:8,children:e.jsx(y,{variant:"subtitle1",color:"inherit",children:c.cust_name})}),e.jsx(t,{item:!0,xs:6,sm:4,children:e.jsxs(t,{container:!0,alignItems:"center",justifyContent:"space-between",children:[e.jsx(t,{item:!0,children:e.jsx(y,{variant:"subtitle1",color:"inherit",children:c.total_amount})}),e.jsx(t,{item:!0,children:e.jsx($,{variant:"rounded",sx:{width:24,height:24,borderRadius:"5px",bgcolor:c.balance_amount>0?"error.light":"success.light",color:c.balance_amount>0?"error.dark":"success.dark",ml:2},children:e.jsx(R,{fontSize:"small",color:"inherit"})})})]})})]})}),e.jsx(t,{item:!0,children:e.jsxs(y,{variant:"subtitle2",sx:{color:c.balance_amount>0?"error.dark":"success.dark"},children:[c.balance_amount>0?"Due":"Paid"," ",c.paid_amount," / Balance",c.balance_amount]})})]}),e.jsx(Te,{sx:{my:1.5}})]},o))]})}),e.jsx($e,{sx:{p:1.25,pt:0,justifyContent:"center"},children:e.jsxs(z,{size:"small",disableElevation:!0,children:["View All",e.jsx(R,{})]})})]})})};de.propTypes={isLoading:S.bool};const Ue=()=>{const[s,a]=r.useState([]);return r.useEffect(()=>{b.get(`${C.apiUrl}/customer/getCustomer`).then(i=>{a(i.data)}).catch(i=>{console.log("Customer Total is not fetched.")})},[]),e.jsxs("div",{className:"cust-card",children:[e.jsxs(t,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(t,{item:!0,xs:8,children:e.jsx("h3",{className:"cust-card-heading text-white",children:"Customers"})}),e.jsx(t,{item:!0,xs:4,className:"icon-container",children:e.jsx(le,{className:"cust-icon"})})]}),e.jsx("h3",{className:"cust-value",children:s.length})]})},Ve=I(L)(({theme:s})=>({backgroundColor:s.palette.primary.dark,color:s.palette.primary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${s.palette.primary[200]} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${s.palette.primary[200]} -14.02%, rgba(144, 202, 249, 0) 77.58%)`,borderRadius:"50%",top:-160,right:-130}})),he=({isLoading:s})=>{const a=D(),[i,c]=r.useState({}),[o,f]=r.useState(!1),[p,d]=r.useState([]);r.useEffect(()=>{b.get(`${C.apiUrl}/leads/leadsCountForDashboard`).then(l=>{if(c(l.data),l.data.leads_details){const j=l.data.leads_details.split("; ").map(x=>{const[v,T,_]=x.split(":");return{emp_id:v,leads_name:T,leads_mobile:_}});d(j)}}).catch(l=>{console.log("Leads Data can't be fetched.")})},[]);const n=()=>{f(!0)},g=()=>{f(!1)};return e.jsxs(e.Fragment,{children:[s?e.jsx(ce,{}):e.jsx(Ve,{border:!1,content:!1,children:e.jsx(F,{sx:{p:2},children:e.jsx(O,{sx:{py:0},children:e.jsxs(Y,{alignItems:"center",disableGutters:!0,sx:{py:0,"&:hover":{backgroundColor:a.palette.primary200}},onClick:n,children:[e.jsx(Q,{children:e.jsx($,{variant:"rounded",sx:{...a.typography.commonAvatar,...a.typography.largeAvatar,bgcolor:"primary.800",color:"#fff"},children:e.jsx(oe,{fontSize:"inherit"})})}),e.jsx(H,{sx:{py:0,my:.45},primary:e.jsx(y,{variant:"h2",sx:{color:"#fff"},children:i.created_at_count}),secondary:e.jsx(y,{variant:"subtitle2",sx:{color:"primary.light",mt:.25},children:"Today Follow Leads"})})]})})})}),e.jsxs(J,{open:o,onClose:g,maxWidth:"md",fullWidth:!0,children:[e.jsx(Z,{children:"Today's Follow Leads"}),e.jsx(K,{children:e.jsx(W,{component:U,children:e.jsxs(V,{children:[e.jsx(B,{children:e.jsxs(w,{children:[e.jsx(u,{children:"Employeee"}),e.jsx(u,{children:"Leads Name"}),e.jsx(u,{children:"Mobile"})]})}),e.jsx(q,{children:p.map((l,j)=>e.jsxs(w,{children:[e.jsx(u,{children:l.emp_id}),e.jsx(u,{children:l.leads_name}),e.jsx(u,{children:l.leads_mobile})]},j))})]})})}),e.jsx(X,{children:e.jsx(z,{onClick:g,color:"primary",children:"Close"})})]})]})};he.propTypes={isLoading:S.bool};const Be=I(L)(({theme:s})=>({overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(210.04deg, ${s.palette.warning.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${s.palette.warning.dark} -14.02%, rgba(144, 202, 249, 0) 70.50%)`,borderRadius:"50%",top:-160,right:-130}})),ue=({isLoading:s,icon:a,label:i})=>{const c=D(),[o,f]=r.useState(0),[p,d]=r.useState([]),[n,g]=r.useState(!1);r.useEffect(()=>{b.get(`${C.apiUrl}/leads/callNotAttendedDashBoard`).then(x=>{f(x.data.count),d(x.data.details)}).catch(x=>{console.log("Leads Data can't be fetched.",x)})},[]);const l=()=>{g(!0)},j=()=>{g(!1)};return e.jsxs(e.Fragment,{children:[s?e.jsx(ce,{}):e.jsx(Be,{border:!1,content:!1,children:e.jsx(F,{sx:{p:2},children:e.jsx(O,{sx:{py:0},children:e.jsxs(Y,{alignItems:"center",disableGutters:!0,sx:{py:0,cursor:"pointer"},onClick:l,children:[e.jsx(Q,{children:e.jsx($,{variant:"rounded",sx:{...c.typography.commonAvatar,...c.typography.largeAvatar,bgcolor:"warning.light",color:i==="Meeting attends"?"error.dark":"warning.dark"},children:a})}),e.jsx(H,{sx:{py:0,mt:.45,mb:.45},primary:e.jsx(y,{variant:"h2",children:o}),secondary:e.jsx(y,{variant:"subtitle2",sx:{color:"grey.500",mt:.5},children:"Total Call Not Attended Leads"})})]})})})}),e.jsxs(J,{open:n,onClose:j,maxWidth:"md",fullWidth:!0,children:[e.jsx(Z,{children:"Details of Leads Not Attended"}),e.jsx(K,{children:e.jsx(W,{component:U,children:e.jsxs(V,{children:[e.jsx(B,{children:e.jsxs(w,{children:[e.jsx(u,{children:"Leads Name"}),e.jsx(u,{children:"Mobile"}),e.jsx(u,{children:"Email"}),e.jsx(u,{children:"Product"})]})}),e.jsx(q,{children:p.map(x=>e.jsxs(w,{children:[e.jsx(u,{children:x.leads_name}),e.jsx(u,{children:x.leads_mobile}),e.jsx(u,{children:x.leads_email}),e.jsx(u,{children:x.product_name})]},x.follow_id))})]})})}),e.jsx(X,{children:e.jsx(z,{onClick:j,color:"primary",children:"Close"})})]})]})};ue.propTypes={icon:S.node,label:S.string,isLoading:S.bool};const qe=()=>{const s="0123456789ABCDEF";let a="#";for(let i=0;i<6;i++)a+=s[Math.floor(Math.random()*16)];return a},Ge=s=>{const a=[];for(let i=0;i<s;i++)a.push(qe());return a},xe=({isLoading:s})=>{const a=D(),[i,c]=r.useState([]),[o,f]=r.useState("");r.useEffect(()=>{b.get(`${C.apiUrl}/customer/getCustomer`).then(n=>{c(n.data)}).catch(n=>{console.log("City data is not fetched.")})},[]);const[p,d]=r.useState({series:[],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},yaxis:{title:{text:"Total Sales"}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[0,50,100]}},tooltip:{y:{formatter:function(n){return n+" sales"}}}}});return r.useEffect(()=>{b.get(`${C.apiUrl}/product/dashboardForProSale/${o}`).then(n=>{const g=n.data.salesByProduct,l=Ge(g.length);console.log("Chart Response :",n),d(j=>({...j,series:[{name:"Total Sales",data:g.map(x=>x.totalSales)}],options:{...j.options,xaxis:{categories:g.map(x=>x.pro_name)},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,gradientToColors:l,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[0,50,100]}}}}))}).catch(n=>{console.error("Error fetching dashboard data:",n)})},[o]),console.log("Selected City :",o),e.jsx("div",{children:s?e.jsxs(e.Fragment,{children:[e.jsx(y,{variant:"h6",children:"Loading..."}),e.jsx("h3",{style:{textAlign:"center",color:a.palette.primary.main},children:"SALES"})]}):e.jsxs(L,{children:[e.jsx("h1",{style:{textAlign:"center",color:a.palette.primary.main},children:"SALES"}),e.jsx(t,{container:!0,spacing:3,children:e.jsx(t,{item:!0,xs:4,display:"flex",justifyContent:"start",children:e.jsxs(we,{select:!0,fullWidth:!0,label:"select city",value:o,onChange:n=>f(n.target.value),children:[e.jsx(ae,{value:"",children:"Select All"}),i.map(n=>e.jsx(ae,{value:n.cust_city,children:n.cust_city},n.cust_id))]})})}),e.jsx(G,{options:p.options,series:p.series,type:"bar",height:350})]})})};xe.propTypes={isLoading:S.bool};var se={},Ye=M;Object.defineProperty(se,"__esModule",{value:!0});var N=se.default=void 0,Qe=Ye(k()),Je=e;N=se.default=(0,Qe.default)((0,Je.jsx)("path",{d:"M13.66 7c-.56-1.18-1.76-2-3.16-2H6V3h12v2h-3.26c.48.58.84 1.26 1.05 2H18v2h-2.02c-.25 2.8-2.61 5-5.48 5h-.73l6.73 7h-2.77L7 14v-2h3.5c1.76 0 3.22-1.3 3.46-3H6V7z"}),"CurrencyRupeeOutlined");const pe=({isLoading:s})=>{const a=D(),[i,c]=r.useState({total_sales:0,total_purchases:0}),[o,f]=r.useState(0);r.useEffect(()=>{b.get(`${C.apiUrl}/totals`).then(n=>{const g=n.data,l=Number(g.total_sales)||0,j=Number(g.total_purchases)||0;c({total_sales:l,total_purchases:j}),f(l-j)}).catch(n=>{console.error("Error fetching total data:",n)})},[]);const[p,d]=r.useState({series:[{name:"Total Profit",data:[0]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"30%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:["Profit"]},yaxis:{title:{text:"Total Profit"}},fill:{type:"gradient",gradient:{shade:"light",type:"horizontal",shadeIntensity:.25,inverseColors:!0,opacityFrom:.85,opacityTo:.85,stops:[0,50,100]}},tooltip:{y:{formatter:n=>`$${n.toFixed(2)}`}}}});return r.useEffect(()=>{d(n=>({...n,series:[{name:"Total Profit",data:[o.toFixed(2)]}]}))},[o]),e.jsx("div",{children:s?e.jsx(y,{variant:"h6",children:"Loading..."}):e.jsxs(L,{children:[e.jsx(y,{variant:"h4",align:"center",color:a.palette.primary.main,children:"PROFIT"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:6,children:e.jsxs(y,{variant:"h6",children:["Total Sales: ",e.jsx(N,{}),i.total_sales.toFixed(2)]})}),e.jsx(t,{item:!0,xs:6,children:e.jsxs(y,{variant:"h6",children:["Total Purchases: ",e.jsx(N,{}),i.total_purchases.toFixed(2)]})})]}),e.jsx(G,{options:p.options,series:p.series,type:"bar",height:350})]})})};pe.propTypes={isLoading:S.bool};var re={},Ke=M;Object.defineProperty(re,"__esModule",{value:!0});var je=re.default=void 0,Xe=Ke(k()),ne=e;je=re.default=(0,Xe.default)([(0,ne.jsx)("path",{d:"M6.44 9.86 7.02 5H5.05L4.04 9.36c-.1.42-.01.84.25 1.17.14.18.44.47.94.47.61 0 1.13-.49 1.21-1.14M9.71 11c.74 0 1.29-.59 1.29-1.31V5H9.04l-.55 4.52c-.05.39.07.78.33 1.07.23.26.55.41.89.41m4.51 0c.41 0 .72-.15.96-.41.25-.29.37-.68.33-1.07L14.96 5H13v4.69c0 .72.55 1.31 1.22 1.31m4.69-6.01L16.98 5l.58 4.86c.08.65.6 1.14 1.21 1.14.49 0 .8-.29.93-.47.26-.33.35-.76.25-1.17z",opacity:".3"},"0"),(0,ne.jsx)("path",{d:"m21.9 8.89-1.05-4.37c-.22-.9-1-1.52-1.91-1.52H5.05c-.9 0-1.69.63-1.9 1.52L2.1 8.89c-.24 1.02-.02 2.06.62 2.88.08.11.19.19.28.29V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6.94c.09-.09.2-.18.28-.28.64-.82.87-1.87.62-2.89M13 5h1.96l.54 4.52c.05.39-.07.78-.33 1.07-.22.26-.54.41-.95.41-.67 0-1.22-.59-1.22-1.31zM8.49 9.52 9.04 5H11v4.69c0 .72-.55 1.31-1.29 1.31-.34 0-.65-.15-.89-.41-.25-.29-.37-.68-.33-1.07m-4.2 1.01c-.26-.33-.35-.76-.25-1.17L5.05 5h1.97l-.58 4.86c-.08.65-.6 1.14-1.21 1.14-.5 0-.8-.29-.94-.47M19 19H5v-6.03c.08.01.15.03.23.03.87 0 1.66-.36 2.24-.95.6.6 1.4.95 2.31.95.87 0 1.65-.36 2.23-.93.59.57 1.39.93 2.29.93.84 0 1.64-.35 2.24-.95.58.59 1.37.95 2.24.95.08 0 .15-.02.23-.03V19zm.71-8.47c-.14.18-.44.47-.94.47-.61 0-1.14-.49-1.21-1.14L16.98 5l1.93-.01 1.05 4.37c.1.42.01.85-.25 1.17"},"1")],"StorefrontTwoTone");const Ze=I(L)(({theme:s})=>({overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:310,background:`linear-gradient(210.04deg, ${s.palette.warning.dark} -50.94%, rgba(144, 202, 249, 0) 83.49%)`,borderRadius:"50%",top:-30,right:-150},"&:before":{content:'""',position:"absolute",width:210,height:210,background:`linear-gradient(140.9deg, ${s.palette.warning.dark} -14.02%, rgba(144, 202, 249, 0) 70.50%)`,borderRadius:"50%",top:-160,right:-100}})),et=()=>{const s=D(),[a,i]=r.useState([]),[c,o]=r.useState(!1);r.useEffect(()=>{b.get(`${C.apiUrl}/cust_purch/api/orders`).then(d=>{i(d.data)}).catch(d=>{console.log("Orders Data can't be fetched.",d)})},[]);const f=()=>{o(!0)},p=()=>{o(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(Ze,{children:e.jsx(F,{sx:{p:.5},children:e.jsx(O,{sx:{py:0},children:e.jsxs(Y,{alignItems:"center",disableGutters:!0,sx:{py:0,cursor:"pointer"},onClick:f,children:[e.jsx(Q,{children:e.jsx($,{variant:"rounded",sx:{...s.typography.commonAvatar,...s.typography.largeAvatar,bgcolor:"warning.light",color:"warning.dark"},children:"O"})}),e.jsx(H,{sx:{py:0,mt:.45,mb:.45},primary:e.jsx(y,{variant:"h2",children:a.length}),secondary:e.jsx(y,{variant:"subtitle2",sx:{color:"grey.500",mt:.5},children:"Total Orders"})})]})})})}),e.jsxs(J,{open:c,onClose:p,maxWidth:"md",fullWidth:!0,children:[e.jsx(Z,{children:"Details of Orders"}),e.jsx(K,{children:e.jsx(W,{component:U,children:e.jsxs(V,{children:[e.jsx(B,{children:e.jsxs(w,{children:[e.jsx(u,{children:"Customer Name"}),e.jsx(u,{children:"Product Name"}),e.jsx(u,{children:"Quantity"}),e.jsx(u,{children:"Price"}),e.jsx(u,{children:"Status"})]})}),e.jsx(q,{children:a.map(d=>e.jsxs(w,{children:[e.jsx(u,{children:d.cust_name}),e.jsx(u,{children:d.pro_name}),e.jsx(u,{children:d.quantity}),e.jsx(u,{children:d.price}),e.jsx(u,{children:d.status})]},d.cust_purch_id))})]})})}),e.jsx(X,{children:e.jsx(z,{onClick:p,color:"primary",children:"Close"})})]})]})},ct=()=>{const[s,a]=r.useState(!0);return r.useEffect(()=>{a(!1)},[]),e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,lg:4,md:6,sm:6,xs:12,children:e.jsx(Re,{isLoading:s})}),e.jsx(t,{item:!0,lg:4,md:6,sm:6,xs:12,children:e.jsx(Ue,{isLoading:s})}),e.jsx(t,{item:!0,lg:4,md:12,sm:12,xs:12,children:e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,sm:6,xs:12,children:e.jsx(he,{isLoading:s})}),e.jsx(t,{item:!0,sm:6,xs:12,children:e.jsx(ue,{isLoading:s,total:203,label:"Total Income",icon:e.jsx(je,{fontSize:"inherit"})})}),e.jsx(t,{item:!0,sm:12,xs:6,children:e.jsx(et,{isLoading:s})})]})})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,lg:8,md:12,xs:12,children:e.jsxs(t,{container:!0,spacing:m,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(xe,{isLoading:s})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(pe,{isLoading:s})})]})}),e.jsx(t,{item:!0,lg:4,md:12,xs:12,children:e.jsx(de,{isLoading:s})})]})})]})};export{ct as default};
